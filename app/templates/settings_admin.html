<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings - CMS</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #238CCE;
            --dark: #151515;
            --light: #f8f9fa;
            --sidebar: #1e1e1e;
            --success: #28a745;
            --warning: #ffc107;
            --danger: #dc3545;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            display: flex;
            min-height: 100vh;
            background-color: #f5f5f5;
            color: #333;
        }
        
        /* Sidebar */
        .sidebar {
            width: 250px;
            background-color: var(--sidebar);
            color: white;
            height: 100vh;
            position: fixed;
        }
        
        .sidebar-header {
            padding: 20px;
            background-color: rgba(0, 0, 0, 0.2);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .sidebar-menu {
            padding: 20px 0;
        }
        
        .menu-item {
            padding: 12px 20px;
            display: flex;
            align-items: center;
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            transition: all 0.3s;
        }
        
        .menu-item:hover, .menu-item.active {
            background-color: rgba(0, 0, 0, 0.3);
            color: white;
            border-left: 3px solid var(--primary);
        }
        
        .menu-item i {
            margin-right: 10px;
            width: 20px;
            text-align: center;
        }
        
        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: 250px;
        }
        
        /* Top Navigation */
        .top-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 25px;
            background-color: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .user-menu {
            display: flex;
            align-items: center;
        }
        
        .user-menu img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 10px;
        }
        
        /* Content Area */
        .content {
            padding: 25px;
        }
        
        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .page-title {
            font-size: 24px;
            font-weight: 500;
        }
        
        .btn {
            padding: 10px 20px;
            border-radius: 4px;
            border: none;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
        }
        
        .btn i {
            margin-right: 8px;
        }
        
        .btn-primary {
            background-color: var(--primary);
            color: white;
        }
        
        .btn-primary:hover {
            background-color: #1a7bb5;
        }
        
        .btn-danger {
            background-color: var(--danger);
            color: white;
        }
        
        .btn-danger:hover {
            background-color: #c82333;
        }
        
        /* Settings Tabs */
        .settings-tabs {
            display: flex;
            border-bottom: 1px solid #ddd;
            margin-bottom: 20px;
        }
        
        .tab-btn {
            padding: 12px 20px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            color: #666;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }
        
        .tab-btn.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }
        
        .tab-btn:hover:not(.active) {
            color: #333;
        }
        
        /* Settings Panels */
        .settings-panel {
            display: none;
            background-color: white;
            border-radius: 8px;
            padding: 25px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }
        
        .settings-panel.active {
            display: block;
        }
        
        .panel-title {
            font-size: 18px;
            font-weight: 500;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }
        
        /* Form Styles */
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }
        
        .form-control {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--primary);
        }
        
        textarea.form-control {
            min-height: 120px;
            resize: vertical;
        }
        
        .form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .form-col {
            flex: 1;
        }
        
        /* File Upload */
        .file-upload {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .logo-preview {
            width: 150px;
            height: auto;
            max-height: 80px;
            object-fit: contain;
            margin-right: 20px;
            border: 1px solid #eee;
            padding: 5px;
        }
        
        .file-upload-btn {
            padding: 8px 15px;
            background-color: #f8f9fa;
            border-radius: 4px;
            cursor: pointer;
            font-size: 13px;
            display: inline-flex;
            align-items: center;
        }
        
        .file-upload-btn i {
            margin-right: 5px;
        }
        
        .file-upload-btn input {
            display: none;
        }
        
        /* Switch Toggle */
        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }
        
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }
        
        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .slider {
            background-color: var(--primary);
        }
        
        input:checked + .slider:before {
            transform: translateX(26px);
        }
        
        .switch-label {
            margin-left: 10px;
            vertical-align: middle;
        }
        
        /* Social Media Inputs */
        .social-input {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .social-icon {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #f5f5f5;
            border-radius: 4px;
            margin-right: 10px;
            color: #666;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .sidebar {
                width: 70px;
                overflow: hidden;
            }
            
            .sidebar-header span, .menu-item span {
                display: none;
            }
            
            .menu-item {
                justify-content: center;
            }
            
            .menu-item i {
                margin-right: 0;
                font-size: 20px;
            }
            
            .main-content {
                margin-left: 70px;
            }
            
            .settings-tabs {
                overflow-x: auto;
                white-space: nowrap;
                padding-bottom: 5px;
            }
            
            .form-row {
                flex-direction: column;
                gap: 0;
            }
        }
    </style>
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="sidebar-header">
            <span>CMS Portfolio</span>
        </div>
        
        <div class="sidebar-menu">
            <a href="/admin" class="menu-item">
                <i class="fas fa-tachometer-alt"></i>
                <span>Dashboard</span>
            </a>
            <a href="/portfolio" class="menu-item">
                <i class="fas fa-briefcase"></i>
                <span>Portfolio</span>
            </a>
            <a href="/portfolio_categories" class="menu-item">
                <i class="fas fa-tags"></i>
                <span>Portfolio Categories</span>
            </a>
            <a href="/service" class="menu-item">
                <i class="fas fa-cog"></i>
                <span>Services</span>
            </a>
            <a href="/service_categories" class="menu-item">
                <i class="fas fa-tags"></i>
                <span>Service Categories</span>
            </a>
            <a href="/team_management" class="menu-item">
                <i class="fas fa-users"></i>
                <span>Team</span>
            </a>
            <a href="/gallery" class="menu-item">
                <i class="fas fa-image"></i>
                <span>Gallery</span>
            </a>
            <a href="/testimonials" class="menu-item">
                <i class="fas fa-quote-left"></i>
                <span>Testimonials</span>
            </a>
            <a href="/user" class="menu-item">
                <i class="fas fa-users"></i>
                <span>Users</span>
            </a>
            <a href="/settings" class="menu-item active">
                <i class="fas fa-cog"></i>
                <span>Settings</span>
            </a>
        </div>
    </div>
    
    <!-- Main Content -->
    <div class="main-content">
        <!-- Top Navigation -->
        {% include "includes/top_nav.html" %}
        
        <!-- Content Area -->
        <div class="content">
            <div class="page-header">
                <h1 class="page-title">Settings</h1>
                <button class="btn btn-primary" id="saveSettingsBtn">
                    <i class="fas fa-save"></i> Save Settings
                </button>
            </div>
            
            <!-- Settings Tabs -->
            <div class="settings-tabs">
                <button class="tab-btn active" data-tab="general">General</button>
                <button class="tab-btn" data-tab="appearance">Appearance</button>
                <button class="tab-btn" data-tab="seo">SEO</button>
                <button class="tab-btn" data-tab="social">Social Media</button>
                <button class="tab-btn" data-tab="email">Email</button>
                <button class="tab-btn" data-tab="advanced">Advanced</button>
            </div>
            
            <!-- General Settings -->
            <div class="settings-panel active" id="general-panel">
                <h3 class="panel-title">General Settings</h3>
                <form id="generalForm">
                    <div class="form-row">
                        <div class="form-col">
                            <div class="form-group">
                                <label for="siteTitle">Site Title</label>
                                <input type="text" id="siteTitle" class="form-control" value="My Portfolio CMS">
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="form-group">
                                <label for="siteTagline">Tagline</label>
                                <input type="text" id="siteTagline" class="form-control" value="Showcasing my best work">
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="adminEmail">Admin Email</label>
                        <input type="email" id="adminEmail" class="form-control" value="admin@example.com">
                    </div>
                    
                    <div class="form-group">
                        <label for="timezone">Timezone</label>
                        <select id="timezone" class="form-control">
                            <option value="UTC">UTC</option>
                            <option value="America/New_York" selected>America/New York</option>
                            <option value="Europe/London">Europe/London</option>
                            <option value="Asia/Jakarta">Asia/Jakarta</option>
                            <option value="Asia/Tokyo">Asia/Tokyo</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="dateFormat">Date Format</label>
                        <select id="dateFormat" class="form-control">
                            <option value="F j, Y">F j, Y (January 1, 2023)</option>
                            <option value="Y-m-d" selected>Y-m-d (2023-01-01)</option>
                            <option value="m/d/Y">m/d/Y (01/01/2023)</option>
                            <option value="d/m/Y">d/m/Y (01/01/2023)</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="timeFormat">Time Format</label>
                        <select id="timeFormat" class="form-control">
                            <option value="g:i a">g:i a (12:00 am)</option>
                            <option value="g:i A" selected>g:i A (12:00 AM)</option>
                            <option value="H:i">H:i (00:00)</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="startOfWeek">Week Starts On</label>
                        <select id="startOfWeek" class="form-control">
                            <option value="0">Sunday</option>
                            <option value="1" selected>Monday</option>
                            <option value="6">Saturday</option>
                        </select>
                    </div>
                </form>
            </div>
            
            <!-- Appearance Settings -->
            <div class="settings-panel" id="appearance-panel">
                <h3 class="panel-title">Appearance Settings</h3>
                <form id="appearanceForm">
                    <div class="form-group">
                        <label>Site Logo</label>
                        <div class="file-upload">
                            <img src="https://via.placeholder.com/150x80?text=Logo" alt="Site Logo" class="logo-preview" id="logoPreview">
                            <div>
                                <label class="file-upload-btn">
                                    <i class="fas fa-upload"></i> Upload Logo
                                    <input type="file" id="logoUpload" accept="image/*">
                                </label>
                                <p style="font-size: 12px; color: #777; margin-top: 5px;">Recommended size: 300x100px</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Favicon</label>
                        <div class="file-upload">
                            <img src="https://via.placeholder.com/32x32?text=Favicon" alt="Favicon" class="logo-preview" id="faviconPreview" style="width: 32px; height: 32px;">
                            <div>
                                <label class="file-upload-btn">
                                    <i class="fas fa-upload"></i> Upload Favicon
                                    <input type="file" id="faviconUpload" accept="image/*">
                                </label>
                                <p style="font-size: 12px; color: #777; margin-top: 5px;">Recommended size: 32x32px</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="primaryColor">Primary Color</label>
                        <input type="color" id="primaryColor" class="form-control" value="#238CCE" style="height: 40px; width: 80px; padding: 0;">
                    </div>
                    
                    <div class="form-group">
                        <label for="themeStyle">Theme Style</label>
                        <select id="themeStyle" class="form-control">
                            <option value="light">Light</option>
                            <option value="dark">Dark</option>
                            <option value="system">System Preference</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="fontFamily">Font Family</label>
                        <select id="fontFamily" class="form-control">
                            <option value="'Segoe UI', Tahoma, Geneva, Verdana, sans-serif" selected>System Default</option>
                            <option value="Arial, sans-serif">Arial</option>
                            <option value="'Helvetica Neue', Helvetica, sans-serif">Helvetica</option>
                            <option value="Georgia, serif">Georgia</option>
                            <option value="'Times New Roman', Times, serif">Times New Roman</option>
                            <option value="'Courier New', Courier, monospace">Courier New</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="customCSS">Custom CSS</label>
                        <textarea id="customCSS" class="form-control" placeholder="Enter your custom CSS here..."></textarea>
                    </div>
                </form>
            </div>
            
            <!-- SEO Settings -->
            <div class="settings-panel" id="seo-panel">
                <h3 class="panel-title">SEO Settings</h3>
                <form id="seoForm">
                    <div class="form-group">
                        <label for="metaTitle">Default Meta Title</label>
                        <input type="text" id="metaTitle" class="form-control" placeholder="My Portfolio - Professional Work Showcase">
                    </div>
                    
                    <div class="form-group">
                        <label for="metaDescription">Default Meta Description</label>
                        <textarea id="metaDescription" class="form-control" rows="3" placeholder="A showcase of my best professional work and projects"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="metaKeywords">Meta Keywords (comma separated)</label>
                        <input type="text" id="metaKeywords" class="form-control" placeholder="portfolio, web design, graphic design, photography">
                    </div>
                    
                    <div class="form-group">
                        <label for="canonicalUrl">Canonical URL</label>
                        <input type="url" id="canonicalUrl" class="form-control" placeholder="https://example.com">
                    </div>
                    
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="enableSitemap" checked>
                            <span class="switch-label">Enable XML Sitemap</span>
                        </label>
                    </div>
                    
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="enableRobots" checked>
                            <span class="switch-label">Enable Robots.txt</span>
                        </label>
                    </div>
                    
                    <div class="form-group">
                        <label for="trackingCode">Tracking Code (Google Analytics, etc.)</label>
                        <textarea id="trackingCode" class="form-control" rows="4" placeholder="Paste your tracking code here..."></textarea>
                    </div>
                </form>
            </div>
            
            <!-- Social Media Settings -->
            <div class="settings-panel" id="social-panel">
                <h3 class="panel-title">Social Media Settings</h3>
                <form id="socialForm">
                    <div class="form-group">
                        <div class="social-input">
                            <div class="social-icon">
                                <i class="fab fa-facebook-f"></i>
                            </div>
                            <input type="url" class="form-control" placeholder="Facebook URL">
                        </div>
                        
                        <div class="social-input">
                            <div class="social-icon">
                                <i class="fab fa-twitter"></i>
                            </div>
                            <input type="url" class="form-control" placeholder="Twitter URL">
                        </div>
                        
                        <div class="social-input">
                            <div class="social-icon">
                                <i class="fab fa-instagram"></i>
                            </div>
                            <input type="url" class="form-control" placeholder="Instagram URL">
                        </div>
                        
                        <div class="social-input">
                            <div class="social-icon">
                                <i class="fab fa-linkedin-in"></i>
                            </div>
                            <input type="url" class="form-control" placeholder="LinkedIn URL">
                        </div>
                        
                        <div class="social-input">
                            <div class="social-icon">
                                <i class="fab fa-youtube"></i>
                            </div>
                            <input type="url" class="form-control" placeholder="YouTube URL">
                        </div>
                        
                        <div class="social-input">
                            <div class="social-icon">
                                <i class="fab fa-pinterest-p"></i>
                            </div>
                            <input type="url" class="form-control" placeholder="Pinterest URL">
                        </div>
                        
                        <div class="social-input">
                            <div class="social-icon">
                                <i class="fab fa-github"></i>
                            </div>
                            <input type="url" class="form-control" placeholder="GitHub URL">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="socialShareImage">Default Social Share Image</label>
                        <div class="file-upload">
                            <img src="https://via.placeholder.com/1200x630?text=Social+Share" alt="Social Share Image" class="logo-preview" id="socialSharePreview">
                            <div>
                                <label class="file-upload-btn">
                                    <i class="fas fa-upload"></i> Upload Image
                                    <input type="file" id="socialShareUpload" accept="image/*">
                                </label>
                                <p style="font-size: 12px; color: #777; margin-top: 5px;">Recommended size: 1200x630px</p>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            
            <!-- Email Settings -->
            <div class="settings-panel" id="email-panel">
                <h3 class="panel-title">Email Settings</h3>
                <form id="emailForm">
                    <div class="form-group">
                        <label for="emailFrom">From Email</label>
                        <input type="email" id="emailFrom" class="form-control" value="noreply@example.com">
                    </div>
                    
                    <div class="form-group">
                        <label for="emailFromName">From Name</label>
                        <input type="text" id="emailFromName" class="form-control" value="My Portfolio CMS">
                    </div>
                    
                    <div class="form-group">
                        <label for="emailProtocol">Email Protocol</label>
                        <select id="emailProtocol" class="form-control">
                            <option value="smtp">SMTP</option>
                            <option value="mail" selected>PHP Mail</option>
                            <option value="sendmail">Sendmail</option>
                        </select>
                    </div>
                    
                    <div id="smtpSettings" style="display: none;">
                        <div class="form-group">
                            <label for="smtpHost">SMTP Host</label>
                            <input type="text" id="smtpHost" class="form-control" placeholder="smtp.example.com">
                        </div>
                        
                        <div class="form-group">
                            <label for="smtpPort">SMTP Port</label>
                            <input type="number" id="smtpPort" class="form-control" placeholder="587">
                        </div>
                        
                        <div class="form-group">
                            <label for="smtpUsername">SMTP Username</label>
                            <input type="text" id="smtpUsername" class="form-control" placeholder="your@email.com">
                        </div>
                        
                        <div class="form-group">
                            <label for="smtpPassword">SMTP Password</label>
                            <input type="password" id="smtpPassword" class="form-control">
                        </div>
                        
                        <div class="form-group">
                            <label for="smtpSecurity">SMTP Security</label>
                            <select id="smtpSecurity" class="form-control">
                                <option value="tls">TLS</option>
                                <option value="ssl">SSL</option>
                                <option value="" selected>None</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="emailTesting" checked>
                            <span class="switch-label">Enable Email Testing Mode</span>
                        </label>
                        <p style="font-size: 12px; color: #777; margin-top: 5px;">When enabled, emails will be logged but not actually sent</p>
                    </div>
                    
                    <div class="form-group">
                        <label for="testEmail">Test Email Address</label>
                        <input type="email" id="testEmail" class="form-control" placeholder="test@example.com">
                        <button type="button" class="btn" style="margin-top: 10px;">
                            <i class="fas fa-paper-plane"></i> Send Test Email
                        </button>
                    </div>
                </form>
            </div>
            
            <!-- Advanced Settings -->
            <div class="settings-panel" id="advanced-panel">
                <h3 class="panel-title">Advanced Settings</h3>
                <form id="advancedForm">
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="maintenanceMode">
                            <span class="switch-label">Enable Maintenance Mode</span>
                        </label>
                        <p style="font-size: 12px; color: #777; margin-top: 5px;">When enabled, only administrators can access the site</p>
                    </div>
                    
                    <div class="form-group">
                        <label for="maintenanceMessage">Maintenance Message</label>
                        <textarea id="maintenanceMessage" class="form-control" rows="3" placeholder="We're currently performing maintenance. Please check back soon."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="enableCache" checked>
                            <span class="switch-label">Enable Caching</span>
                        </label>
                    </div>
                    
                    <div class="form-group">
                        <label for="cacheDuration">Cache Duration (minutes)</label>
                        <input type="number" id="cacheDuration" class="form-control" value="60">
                    </div>
                    
                    <div class="form-group">
                        <label>
                            <input type="checkbox" id="enableDebug">
                            <span class="switch-label">Enable Debug Mode</span>
                        </label>
                        <p style="font-size: 12px; color: #777; margin-top: 5px;">Show detailed error messages (disable in production)</p>
                    </div>
                    
                    <div class="form-group">
                        <label for="errorLogging">Error Logging</label>
                        <select id="errorLogging" class="form-control">
                            <option value="none">None</option>
                            <option value="file" selected>File</option>
                            <option value="database">Database</option>
                            <option value="both">Both</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="backupFrequency">Automatic Backup Frequency</label>
                        <select id="backupFrequency" class="form-control">
                            <option value="none">Never</option>
                            <option value="daily">Daily</option>
                            <option value="weekly" selected>Weekly</option>
                            <option value="monthly">Monthly</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <button type="button" class="btn btn-danger">
                            <i class="fas fa-database"></i> Create Manual Backup Now
                        </button>
                        <p style="font-size: 12px; color: #777; margin-top: 5px;">This will create a complete backup of your site</p>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        // DOM elements
        const tabButtons = document.querySelectorAll('.tab-btn');
        const panels = document.querySelectorAll('.settings-panel');
        const saveBtn = document.getElementById('saveSettingsBtn');
        const emailProtocol = document.getElementById('emailProtocol');
        const smtpSettings = document.getElementById('smtpSettings');
        const logoUpload = document.getElementById('logoUpload');
        const logoPreview = document.getElementById('logoPreview');
        const faviconUpload = document.getElementById('faviconUpload');
        const faviconPreview = document.getElementById('faviconPreview');
        const socialShareUpload = document.getElementById('socialShareUpload');
        const socialSharePreview = document.getElementById('socialSharePreview');

        // Initialize the page
        function init() {
            setupEventListeners();
        }

        // Set up event listeners
        function setupEventListeners() {
            // Tab switching
            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    // Remove active class from all buttons and panels
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    panels.forEach(panel => panel.classList.remove('active'));
                    
                    // Add active class to clicked button
                    button.classList.add('active');
                    
                    // Show corresponding panel
                    const panelId = button.getAttribute('data-tab') + '-panel';
                    document.getElementById(panelId).classList.add('active');
                });
            });
            
            // Email protocol change
            emailProtocol.addEventListener('change', () => {
                if (emailProtocol.value === 'smtp') {
                    smtpSettings.style.display = 'block';
                } else {
                    smtpSettings.style.display = 'none';
                }
            });
            
            // Save settings
            saveBtn.addEventListener('click', saveSettings);
            
            // File upload handlers
            logoUpload.addEventListener('change', handleFileUpload.bind(null, logoPreview));
            faviconUpload.addEventListener('change', handleFileUpload.bind(null, faviconPreview));
            socialShareUpload.addEventListener('change', handleFileUpload.bind(null, socialSharePreview));
        }

        // Handle file upload
        function handleFileUpload(previewElement, e) {
            const file = e.target.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = (event) => {
                previewElement.src = event.target.result;
            };
            reader.readAsDataURL(file);
        }

        // Save all settings
        function saveSettings() {
            // In a real app, you would collect all form data and send to server
            alert('Settings saved successfully!');
        }

        // Initialize the application
        init();
    </script>
</body>
</html>